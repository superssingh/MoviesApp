{"ast":null,"code":"var _jsxFileName = \"/Users/santoshsingh/Documents/WebDevelopment/ReactEcomApp/frontend/src/components/Pages/home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // import axios from \"axios\";\n// import * as TagNames from \"../constants/constants\";\n// import VideoPlayer from \"../common/videoPlayer\";\n// import MoviesList from \"../common/moviesList\";\n// import PaginationBar from \"../common/paginationBar\";\n// import { Paginate } from \"../common/js/paginate\";\n\nimport { request, gql } from \"graphql-request\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst query = gql`\n  {\n    ecoms {\n      title\n      desc\n      quantity\n      price\n      images {\n        url\n      }\n    }\n  }\n`;\n\nconst Home = () => {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  if (loading) /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 16\n  }, this);\n  useEffect(async () => {\n    const url = \"http://localhost:1337/graphql\";\n\n    if (!data) {\n      try {\n        await request(url, query).then(data => {\n          setData(data.ecoms);\n        });\n        setLoading(false);\n      } catch (e) {\n        console.log(\"Error on GraphFetch: \", e);\n      }\n    }\n  }, []);\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [data.map(d => {\n      /*#__PURE__*/\n      _jsxDEV(\"p\", {\n        children: d.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"C4fiAW6C7RZgaKDoEXQgZpbuUZg=\");\n\n_c = Home;\nexport default Home; // class Home extends Component {\n//   // constructor() {\n//   //   super();\n//   //   this.handleScroll = this.handleScroll.bind(this);\n//   // }\n//   state = {\n//     data: [],\n//     results: [],\n//     videoLink: \"\",\n//     video: false,\n//     transform: 0,\n//     currentPage: 1,\n//     pageSize: 4,\n//   };\n//   componentDidMount = async () => {\n//     const { data } = await useQuery({ query: GET_POSTS });\n//     // window.addEventListener(\"scroll\", this.handleScroll);\n//     // const { data } = await axios.get(TagNames.getURL());\n//     console.log(data);\n//     const { results } = data.ecom;\n//     this.setState({ results });\n//   };\n//   componentWillUnmount = () => {\n//     window.removeEventListener(\"scroll\", this.handleScroll);\n//   };\n//   handleScroll = (event) => {\n//     let scrollTop = event.target.scrollingElement.scrollTop,\n//       itemTranslate = Math.min(0, scrollTop / 3 - 60);\n//     this.setState({ transform: itemTranslate });\n//   };\n//   handleVideo = async (id) => {\n//     const { data } = await axios.get(TagNames.getVideoKey(id));\n//     const videoLink = (await data.results[0]?.key)\n//       ? TagNames.getVideoLink(data.results[0].key)\n//       : \"\";\n//     const video = videoLink ? true : false;\n//     this.setState({ videoLink, video });\n//   };\n//   handleVideoClose = (status) => {\n//     this.setState({ video: status });\n//   };\n//   handlePageChange = (currentPage) => {\n//     console.log(currentPage);\n//     this.setState({ currentPage });\n//   };\n//   render() {\n//     const { results, videoLink, video, currentPage, pageSize } = this.state;\n//     const imagepath = TagNames.getImagePath();\n//     const movies = Paginate(results, currentPage, pageSize);\n//     const count = results.length;\n//     if (results.length === 0) {\n//       return <h3>Movies not found.</h3>;\n//     }\n//     return (\n//       <div className=\"container\">\n//         <div className=\"home\">\n//           <MoviesList\n//             moviesList={movies}\n//             count={count}\n//             imagePath={imagepath}\n//             getVideo={this.handleVideo}\n//           />\n//           <PaginationBar\n//             itemCount={count}\n//             pageSize={pageSize}\n//             currentPage={1}\n//             onPageChange={this.handlePageChange}\n//           />\n//           <VideoPlayer\n//             trailerLink={videoLink}\n//             status={video}\n//             handleVideoClose={this.handleVideoClose}\n//           />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/santoshsingh/Documents/WebDevelopment/ReactEcomApp/frontend/src/components/Pages/home.jsx"],"names":["React","request","gql","useState","useEffect","query","Home","data","setData","loading","setLoading","error","setError","url","then","ecoms","e","console","log","map","d","title"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,OAAT,EAAkBC,GAAlB,QAA6B,iBAA7B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;AAEA,MAAMC,KAAK,GAAGH,GAAI;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAZA;;AAcA,MAAMI,IAAI,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAEA,MAAIM,OAAJ,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEbL,EAAAA,SAAS,CAAC,YAAY;AACpB,UAAMS,GAAG,GAAG,+BAAZ;;AACA,QAAI,CAACN,IAAL,EAAW;AACT,UAAI;AACF,cAAMN,OAAO,CAACY,GAAD,EAAMR,KAAN,CAAP,CAAoBS,IAApB,CAA0BP,IAAD,IAAU;AACvCC,UAAAA,OAAO,CAACD,IAAI,CAACQ,KAAN,CAAP;AACD,SAFK,CAAN;AAGAL,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OALD,CAKE,OAAOM,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,CAArC;AACD;AACF;AACF,GAZQ,EAYN,EAZM,CAAT;AAcAC,EAAAA,OAAO,CAACC,GAAR,CAAYX,IAAZ;AAEA,sBACE;AAAA,eACGA,IAAI,CAACY,GAAL,CAAUC,CAAD,IAAO;AACf;AAAA;AAAA,kBAAIA,CAAC,CAACC;AAAN;AAAA;AAAA;AAAA;AAAA;AACD,KAFA,CADH,eAIE,qCAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CA/BD;;GAAMf,I;;KAAAA,I;AAiCN,eAAeA,IAAf,C,CAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React from \"react\";\n// import axios from \"axios\";\n// import * as TagNames from \"../constants/constants\";\n// import VideoPlayer from \"../common/videoPlayer\";\n// import MoviesList from \"../common/moviesList\";\n// import PaginationBar from \"../common/paginationBar\";\n// import { Paginate } from \"../common/js/paginate\";\nimport { request, gql } from \"graphql-request\";\nimport { useState, useEffect } from \"react\";\n\nconst query = gql`\n  {\n    ecoms {\n      title\n      desc\n      quantity\n      price\n      images {\n        url\n      }\n    }\n  }\n`;\n\nconst Home = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  if (loading) <p>Loading...</p>;\n\n  useEffect(async () => {\n    const url = \"http://localhost:1337/graphql\";\n    if (!data) {\n      try {\n        await request(url, query).then((data) => {\n          setData(data.ecoms);\n        });\n        setLoading(false);\n      } catch (e) {\n        console.log(\"Error on GraphFetch: \", e);\n      }\n    }\n  }, []);\n\n  console.log(data);\n\n  return (\n    <div>\n      {data.map((d) => {\n        <p>{d.title}</p>;\n      })}\n      <></>\n    </div>\n  );\n};\n\nexport default Home;\n\n// class Home extends Component {\n//   // constructor() {\n//   //   super();\n//   //   this.handleScroll = this.handleScroll.bind(this);\n//   // }\n\n//   state = {\n//     data: [],\n//     results: [],\n//     videoLink: \"\",\n//     video: false,\n//     transform: 0,\n//     currentPage: 1,\n//     pageSize: 4,\n//   };\n\n//   componentDidMount = async () => {\n//     const { data } = await useQuery({ query: GET_POSTS });\n//     // window.addEventListener(\"scroll\", this.handleScroll);\n//     // const { data } = await axios.get(TagNames.getURL());\n//     console.log(data);\n//     const { results } = data.ecom;\n\n//     this.setState({ results });\n//   };\n\n//   componentWillUnmount = () => {\n//     window.removeEventListener(\"scroll\", this.handleScroll);\n//   };\n\n//   handleScroll = (event) => {\n//     let scrollTop = event.target.scrollingElement.scrollTop,\n//       itemTranslate = Math.min(0, scrollTop / 3 - 60);\n//     this.setState({ transform: itemTranslate });\n//   };\n\n//   handleVideo = async (id) => {\n//     const { data } = await axios.get(TagNames.getVideoKey(id));\n//     const videoLink = (await data.results[0]?.key)\n//       ? TagNames.getVideoLink(data.results[0].key)\n//       : \"\";\n\n//     const video = videoLink ? true : false;\n//     this.setState({ videoLink, video });\n//   };\n\n//   handleVideoClose = (status) => {\n//     this.setState({ video: status });\n//   };\n\n//   handlePageChange = (currentPage) => {\n//     console.log(currentPage);\n//     this.setState({ currentPage });\n//   };\n\n//   render() {\n//     const { results, videoLink, video, currentPage, pageSize } = this.state;\n//     const imagepath = TagNames.getImagePath();\n//     const movies = Paginate(results, currentPage, pageSize);\n//     const count = results.length;\n\n//     if (results.length === 0) {\n//       return <h3>Movies not found.</h3>;\n//     }\n\n//     return (\n//       <div className=\"container\">\n//         <div className=\"home\">\n//           <MoviesList\n//             moviesList={movies}\n//             count={count}\n//             imagePath={imagepath}\n//             getVideo={this.handleVideo}\n//           />\n\n//           <PaginationBar\n//             itemCount={count}\n//             pageSize={pageSize}\n//             currentPage={1}\n//             onPageChange={this.handlePageChange}\n//           />\n\n//           <VideoPlayer\n//             trailerLink={videoLink}\n//             status={video}\n//             handleVideoClose={this.handleVideoClose}\n//           />\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Home;\n"]},"metadata":{},"sourceType":"module"}